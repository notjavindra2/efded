local Version = "1.6.31"
local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/download/" .. Version .. "/main.lua"))()
local Window = WindUI:CreateWindow({Title="IQ 0 Jump Rope Glass Bridge", Size=UDim2.new(0,500,0,400), Theme="Dark"})

local MainTab = Window:Tab({Title="Main", Icon="home"})
local ESPTab = Window:Tab({Title="ESP", Icon="eye"})
local MiscTab = Window:Tab({Title="Misc", Icon="rbxassetid://4483345998"})

local RunService = game:GetService("RunService")
local LocalPlayer = game.Players.LocalPlayer
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")

-- Variables
local winLoop = false
local selectedPlayer = "None"
local dropdownRef
local WalkSpeedValue, JumpPowerValue = 17, 50
local SpeedEnabled = true

-- "#ffe600ff" → RGB(255, 230, 0)
Window:Tag({
    Title = "v1.0.0",
    Color = Color3.fromRGB(255, 230, 0),
    Radius = 0,
})

-- "#30ff6a" → RGB(48, 255, 106)
Window:Tag({
    Title = "FORZA",
    Color = Color3.fromRGB(48, 255, 106),
    Radius = 0,
})

-- Main Tab
MainTab:Toggle({
    Title="Auto Win Loop",
    Desc="Continuously wins the IQ 0 Jump Rope Glass Bridge Game",
    Icon="check",
    Type="Checkbox",
    Default=false,
    Callback=function(state)
        winLoop=state
        if state then
            task.spawn(function()
                while winLoop do
                    local events=game:GetService("ReplicatedStorage"):FindFirstChild("Events")
                    if events and events:FindFirstChild("Win") then
                        events.Win:FireServer()
                    end
                    task.wait(0.1)
                end
            end)
        end
    end
})

MainTab:Button({
    Title="Teleport to Position",
    Icon="location-arrow",
    Callback=function()
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-11.131,23.994,423.444)
        end
    end
})

local function getPlayerList()
    local list={"None"}
    for _,plr in ipairs(game.Players:GetPlayers()) do
        if plr~=LocalPlayer then
            table.insert(list, plr.Name)
        end
    end
    return list
end

dropdownRef = MainTab:Dropdown({
    Title="Select Player",
    Values=getPlayerList(),
    Value="None",
    SearchBarEnabled=true,
    Callback=function(opt) selectedPlayer=opt end
})

local function refreshDropdown()
    local newList = getPlayerList()
    dropdownRef:Refresh(newList)
    if selectedPlayer~="None" and not table.find(newList, selectedPlayer) then
        selectedPlayer="None"
        if dropdownRef.Set then dropdownRef:Set("None") end
    end
end

game.Players.PlayerAdded:Connect(refreshDropdown)
game.Players.PlayerRemoving:Connect(refreshDropdown)

MainTab:Button({
    Title="Teleport to Selected Player",
    Icon="user",
    Callback=function()
        if selectedPlayer~="None" then
            local target = game.Players:FindFirstChild(selectedPlayer)
            if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    LocalPlayer.Character.HumanoidRootPart.CFrame = target.Character.HumanoidRootPart.CFrame
                end
            end
        end
    end
})

-- Misc Tab Inputs
MiscTab:Input({
    Title="WalkSpeed",
    Desc="Sets your speed to the inputted value",
    Value=tostring(WalkSpeedValue),
    InputIcon="bird",
    Type="Input",
    Placeholder="Enter amount...",
    Callback=function(input)
        local val = tonumber(input)
        if val then
            WalkSpeedValue = val
        end
    end
})

MiscTab:Input({
    Title="JumpPower",
    Desc="Sets your JumpPower to the inputted value",
    Value=tostring(JumpPowerValue),
    InputIcon="bird",
    Type="Input",
    Placeholder="Enter amount...",
    Callback=function(input)
        local val = tonumber(input)
        if val then
            JumpPowerValue = val
        end
    end
})

MiscTab:Button({
    Title="Rejoin",
    Callback=function() TeleportService:TeleportToPlaceInstance(game.PlaceId, game.JobId, LocalPlayer) end
})

MiscTab:Button({
    Title="Server Hop",
    Callback=function()
        local servers={}
        local suc,res=pcall(function()
            return game:HttpGet("https://games.roblox.com/v1/games/"..game.PlaceId.."/servers/Public?sortOrder=Asc&limit=100")
        end)
        if suc then
            local data=HttpService:JSONDecode(res)
            for _,srv in pairs(data.data) do
                if srv.playing < srv.maxPlayers and srv.id ~= game.JobId then
                    table.insert(servers,srv.id)
                end
            end
            if #servers>0 then
                TeleportService:TeleportToPlaceInstance(game.PlaceId, servers[math.random(#servers)], LocalPlayer)
            end
        end
    end
})

MiscTab:Button({
    Title="Copy Discord",
    Callback=function() setclipboard("https://discord.gg/yM3aNST6tD") end
})

local ESPEnabled=false
local ESPColor=Color3.fromRGB(0,0,255)

ESPTab:Toggle({
    Title="ESP All Players",
    Desc="Toggle ESP for everyone",
    Icon="eye",
    Type="Checkbox",
    Default=false,
    Callback=function(state) ESPEnabled=state end
})

ESPTab:Colorpicker({
    Title="ESP Color",
    Default=ESPColor,
    Callback=function(c) ESPColor=c end
})

RunService.RenderStepped:Connect(function()
    for _,plr in pairs(game.Players:GetPlayers()) do
        if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            local box = plr.Character:FindFirstChild("ESPBox")
            if ESPEnabled then
                if not box then
                    box = Instance.new("BoxHandleAdornment")
                    box.Name = "ESPBox"
                    box.Adornee = plr.Character.HumanoidRootPart
                    box.Size = Vector3.new(2,5,1)
                    box.Color = ESPColor
                    box.AlwaysOnTop = true
                    box.Parent = plr.Character
                else
                    box.Color = ESPColor
                end
            elseif box then
                box:Destroy()
            end
        end
    end
end)

RunService.RenderStepped:Connect(function()
    if SpeedEnabled and LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = WalkSpeedValue
            humanoid.JumpPower = JumpPowerValue
        end
    end
end)
